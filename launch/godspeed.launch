<?xml version="1.0"?>
<launch>
  <!--env name="TURTLEBOT3_MODEL" value="burger"/-->
  <arg name="gui" default="false"/>
  <arg name="slam_methods" default="gmapping"/>
  <arg name="node_start_delay" default="1.0"/>
  <arg name="exploration_mode" default="true"/>
  <param name="exploration_mode" type="bool" value="$(arg exploration_mode)" />


  <!-- SIMULATION -->
  <include file="$(find turtlebot3_big_house)/launch/turtlebot3_big_house.launch">
    <arg name="gui" value="$(arg gui)"/>
  </include>

  <!-- SLAM -->
  <include file="$(find turtlebot3_slam)/launch/turtlebot3_slam.launch">
    <arg name="slam_methods" value="$(arg slam_methods)"/>
  </include>

  <!-- MONITOR NODE --><!--
  <node name="turt_monitor" 
	pkg="navigationturt" 
	type="monitor.py" 
	respawn="false" 
	output="screen" 
	args="" 
	launch-prefix="xterm -e /bin/bash -c 'sleep $(arg node_start_delay); $0 $@' "
  />-->

  <!-- CONTROL NODE -->
  <node name="turt_control" 
	pkg="navigationturt" 
	type="navigator.py" 
	respawn="false" 
	output="screen" 
	args=""
	launch-prefix="xterm -e /bin/bash -c 'sleep $(arg node_start_delay); $0 $@' " 
  />

  <group if="$(arg exploration_mode)">
	  <!-- EXPLORATION NODE -->
	  <node name="turt_explore" 
		pkg="navigationturt" 
		type="explorer.py" 
		respawn="false" 
		output="screen" 
		args=""
		launch-prefix="xterm -e /bin/bash -c 'sleep $(arg node_start_delay); $0 $@' " 
	  />
  	  <!-- MAPPER NODE -->
	    <!-- eg: spawned, map saved, died, respawned --><!--
  <node name="" pkg="navigationturt" type=""  respawn="false" output="screen" args="" />
	--> 
  </group>

  <group unless="$(arg exploration_mode)">
  	<!-- DATA AND OBJECTIVES LOADER NODE -->
  </group>

</launch>
